
# åŸºç¡€è¯­æ³•

## å¸¸é‡ ï¼† å˜é‡

### å®šä¹‰å¸¸é‡ & å˜é‡

```swift
let PI = 3.14159
var x = 1, y = 2, z = 3
```

> å¦‚æœç»™èµ‹å€¼è¿‡çš„å¸¸é‡èµ‹å€¼ï¼Œä¼šåœ¨ä»£ç ç¼–è¯‘æ—¶æŠ¥é”™ã€‚

### ç±»å‹æ ‡æ³¨

å¯ä»¥å¯¹å¸¸é‡æˆ–å˜é‡è¿›è¡Œç±»å‹æ ‡æ³¨ï¼š

```swift
var welcomeMessage: String
```

> ä¸€èˆ¬å¾ˆå°‘ä¼šç”¨åˆ°ç±»å‹æ ‡æ³¨ã€‚å¦‚æœä½ ç»™å®šäº†å¸¸é‡æˆ–å˜é‡çš„åˆå§‹å€¼ï¼ŒSwift ä¼šè‡ªå·±æ¨æ–­å…¶ç±»å‹ã€‚

### å¸¸é‡å˜é‡çš„å‘½å

å¯ä»¥ç”¨ä»»ä½•å­—ç¬¦å‘½åï¼ŒåŒ…æ‹¬ Unicode å­—ç¬¦ï¼š

```swift
let ä½ å¥½ = "ä½ å¥½ä¸–ç•Œ"
let ğŸ¶ğŸ® = "dogcow"
```

ä½†æ˜¯åå­—ä¸èƒ½ï¼š

* åŒ…å«ç©ºç™½å­—ç¬¦ã€æ•°å­¦ç¬¦å·ã€ç®­å¤´ã€ç§ç”¨ Unicode å­—ç¬¦ç­‰å­—ç¬¦ï¼›

* ä»¥æ•°å­—å¼€å¤´ï¼›

* ä¸ºå·²å®šä¹‰çš„å¸¸é‡å˜é‡åï¼Œæˆ– Swift çš„å…³é”®å­—ï¼›

> å¦‚æœè¿«ä¸å¾—å·²æƒ³ä½¿ç”¨ Swift çš„å…³é”®å­—ä½œä¸ºåå­—ï¼Œè¯·ç”¨ `` ` `` åŒ…è£¹åå­—ã€‚

### æ‰“å°å¸¸é‡å˜é‡

ä½¿ç”¨ `print(_:separator:terminator:)` æ‰“å°ä¸€ä¸ªå€¼ï¼š

```swift
let hello = "hello world!"

print(hello)
```

## æ³¨é‡Š

å¯ä»¥ç”¨ `//` æˆ– `/* ... */` è¿›è¡Œæ³¨é‡Šï¼Œåè€…æ”¯æŒåµŒå¥—ï¼š

```swift
// è¿™æ˜¯ä¸€è¡Œæ³¨é‡Š.

/* è¿™æ˜¯å¤–å±‚æ³¨é‡Šçš„å¼€å¤´
    /* æ‰“å° hello */
    print(hello)
è¿™æ˜¯å¤–å±‚æ³¨é‡Šçš„ç»“å°¾ */
```

## åˆ†å·

Swift å¹¶ä¸è¦æ±‚ä½ åœ¨æ¯æ¡è¯­å¥åé¢åŠ ä¸Šåˆ†å·ï¼Œé™¤éä½ åœ¨ä¸€è¡Œé‡Œå†™äº†å¤šä¸ªè¯­å¥ï¼š

```swift
let cat = "ğŸ±"; print(cat)
```

## æ•´æ•°

Swift æä¾›æœ‰ç¬¦å·æˆ–æ— ç¬¦å·çš„ 8ã€16ã€32ã€64 ä½æ•´æ•°ã€‚ç±»å‹åä¸ C è¯­è¨€ä¸­çš„ç±»ä¼¼ï¼Œæ¯”å¦‚ 8 ä½æ— ç¬¦å·ä¸º UInt8 ã€‚

> Swift ä¸­æ‰€æœ‰ç±»å‹åéƒ½æ˜¯é¦–å­—æ¯å¤§å†™çš„ã€‚

### æ•´æ•°èŒƒå›´

å¯ä»¥è®¿é—®æ•´æ•°ç±»å‹åçš„ `min` å’Œ `max` å±æ€§è·å–å…¶æœ€å¤§æœ€å°å€¼ï¼š

```swift
let minValue = UInt8.min  // => 0
let maxValue = UInt8.max  // => 255
```

### Int & UInt

åœ¨ Swift ä¸­ï¼Œä½ å¯ä»¥ç›´æ¥ç”¨ Int æˆ– UInt ä½œä¸ºæ•´æ•°ç±»å‹ï¼š

* å¯¹äº 32 ä½çš„ç³»ç»Ÿ Int å’Œ Int32 ä¸€æ ·å¤§å°ï¼ŒUInt åŒç†ï¼›

* å¯¹äº 64 ä½çš„ç³»ç»Ÿï¼ŒInt å’Œ Int64 ä¸€æ ·å¤§å°ï¼ŒUInt åŒç†ã€‚

> å¤§éƒ¨åˆ†åœºæ™¯è¿˜æ˜¯ Int ç”¨çš„å¤šä¸€ç‚¹ï¼Œé™¤éç¡®å®æ˜¯æƒ³ä½¿ç”¨æ— ç¬¦å·ç±»å‹ã€‚

## æµ®ç‚¹æ•°

Swift ä¸­çš„ä¸¤ç§æµ®ç‚¹æ•°ç±»å‹ï¼š

* Double ä¸º 64 ä½æµ®ç‚¹æ•°ç±»å‹ï¼ˆèƒ½ä¿è¯çš„ç²¾åº¦ä¸º 15 ä½ï¼‰ï¼›

* Float ä¸º 32 ä½æµ®ç‚¹æ•°ç±»å‹ï¼ˆèƒ½ä¿è¯çš„ç²¾åº¦ä¸º 6 ä½ï¼‰ã€‚

## ç±»å‹å®‰å…¨ & ç±»å‹æ¨æ–­

Swift ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå¯¹ä»£ç è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚åŒæ—¶ï¼Œå¯¹äºæœªæ˜ç¡®ç±»å‹çš„å€¼ï¼ŒSwift ä¼šè¿›è¡Œç±»å‹æ¨æ–­ï¼š

```swift
// Swift ä¼šå°†æ•´æ•°æ¨æ–­ä¸º Int ç±»å‹
var age = 22

// Swift ä¼šå°†æµ®ç‚¹æ•°æ¨æ–­ä¸º Double ç±»å‹
let PI = 3.14159
```

## æ•°å€¼å­—é¢é‡

* äºŒã€å…«ã€åå…­è¿›åˆ¶çš„å‰ç¼€åˆ†åˆ«ä¸º `0b` ã€`0o` ã€`0x` ï¼›

* åè¿›åˆ¶æµ®ç‚¹æ•°å¯ä»¥ç”¨ `e` or `E` å¸¦ä¸ŠæŒ‡æ•°ï¼Œåå…­è¿›åˆ¶åˆ™ç”¨ `p` or `P` ï¼›

* å¯ä»¥æœ‰å¤šä½™çš„å‰ç¼€ 0 ï¼›

* å¯ä»¥ç”¨ _ æ¥æŒ‰ä½æ•°åˆ†éš”ï¼Œæé«˜æ•°å€¼çš„å¯è¯»æ€§ï¼›

```swift
let a = 10          // => 10
let b = 0b10001     // => 17
let c = 1.25e-2     // => 0.0125
let d = 000123.45   // => 123.45
let e = 1_000_000   // => 1000000
```

## æ•°å€¼ç±»å‹çš„è½¬æ¢

```swift
// èŒƒå›´å¤–çš„æ•°ä¼šç›´æ¥æŠ¥é”™
let a: UInt8 = -1           // ERROR

// è®¡ç®—ä¸­å‘ç”Ÿçš„æº¢å‡ºä¹Ÿä¼šç›´æ¥æŠ¥é”™
let b: Int8 = Int8.max + 1  // ERROR
let c = Int16(Int8.max) + 1 // 128

// æµ®ç‚¹æ•°è½¬ä¸ºæ•´æ•°ä¼šç›´æ¥æˆªæ–­ï¼Œè€Œä¸æ˜¯å››èˆäº”å…¥
let d = Int(3.14159)        // 3
```

## ç±»å‹åˆ«å

å¯ä»¥ç”¨ typealias å…³é”®å­—æ¥ç»™ä¸€ä¸ªç±»å‹å–åˆ«åï¼š

```swift
typealias AudioSample = UInt16
```

## å¸ƒå°”å€¼

Swift çš„å¸ƒå°”å€¼ç±»å‹åä¸º Bool ï¼Œå€¼å¯ä¸º `true` or `false` ã€‚

## å…ƒç»„ Tuple

å¯ä»¥ç”¨å…ƒç»„ç›´æ¥å°†å¤šä¸ªå€¼åŒ…è£¹æˆä¸€ä¸ªå€¼ï¼š

```swift
// ç±»å‹ä¸º (Int, String)
let http404Error = (404, "Not Found")
```

åŒæ—¶å¯ä»¥ç”¨ç±»ä¼¼å…ƒç»„çš„è¯­æ³•æ¥åˆ†è§£ä¸€ä¸ªå…ƒç»„å€¼ï¼š

```swift
let (statusCode, statusMessage) = http404Error

// å¦‚æœæƒ³å¿½ç•¥ä¸€ä¸ªå€¼ï¼Œç”¨ä¸‹åˆ’çº¿ _ ä»£æ›¿
let (justTheStatusCode, _) = http404Error
```

å¯ä»¥ç”¨ç´¢å¼•å±æ€§è®¿é—®å…ƒç»„å€¼é‡Œçš„å…ƒç´ ï¼š

```swift
http404Error.0  // => 404
http404Error.1  // => "Not Found"
```

å…ƒç»„æ”¯æŒå¯¹å…ƒç´ è¿›è¡Œå‘½åï¼Œå…ƒç´ åå°†å¯¹åº”åœ°æˆä¸ºå±æ€§åï¼š

```swift
let http200Status = (statusCode: 200, description: "OK")
http404Error.statusCode   // => 404
http404Error.description  // => "Not Found"
```

> åœ¨å‡½æ•°ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å…ƒç»„æ¥è¿”å›å¤šä¸ªå€¼ã€‚ä½†å¯¹äºæ•°æ®ç»“æ„è¾ƒä¸ºå¤æ‚çš„ï¼Œåº”å½“ä½¿ç”¨ç»“æ„ä½“æˆ–ç±»ã€‚

## å¯é€‰å€¼ Optional

å¯ä»¥åœ¨ç±»å‹ååé¢åŠ ä¸ªé—®å· `?` ï¼Œè¡¨ç¤ºè¯¥ç±»å‹å¯èƒ½ä¸ºç©ºï¼Œå³ `nil` ï¼š

```swift
// ä¸€ä¸ªå¯é€‰çš„ Int ç±»å‹
var serverResponseCode: Int? = 404
serverResponseCode = nil

// å¦‚æœæ²¡æœ‰ç»™å®šåˆå€¼ï¼Œåˆ™åˆå€¼ä¼šè‡ªåŠ¨ä¸º nil
var surveyAnswer: String?   // => nil
```

> ä¸èƒ½ç»™éå¯é€‰ç±»å‹çš„å¸¸é‡å˜é‡èµ‹å€¼ä¸º `nil` ã€‚

### å¼ºåˆ¶éç©º

å¦‚æœç¡®å®šä¸€ä¸ªå¯é€‰å€¼ä¸ä¸ºç©ºï¼Œå¯ä»¥ç”¨ ! æ¥å‘Šè¯‰ Swift ï¼š

```swift
if optionalNum != nil {
    print("optionalNum has an integer value of \(optionalNum!).")
}
```

> å¯¹ä¸€ä¸ªç©ºå€¼ä½¿ç”¨ `!` ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚

### å¯é€‰å€¼ç»‘å®š

å¯ä»¥é€šè¿‡ let æ­é…æ§åˆ¶è¯­å¥ï¼Œæ¥æå–å¯é€‰å€¼ä¸­çš„å€¼ï¼š

```swift
if let num = optionalNum {
    // å¦‚æœ optionalNum ä¸ä¸ºç©ºï¼Œåˆ™è¿›å…¥è¯¥åˆ†æ”¯ï¼Œä¸” num ä¸ºå…¶å€¼
} else {
    // å¦‚æœ optionalNum ä¸ºç©ºï¼Œåˆ™è¿›å…¥è¯¥åˆ†æ”¯
}
```

å¯ä»¥ç”¨é€—å· `,` æ¥åˆ—å‡ºå¤šä¸ªå¯é€‰å€¼ç»‘å®šï¼š

```swift
while let a = optionalA, b = optionalB, c = optionalC {
    // ...
}
```

### éšå¼çš„å¼ºåˆ¶éç©º

åœ¨å£°æ˜ä¸€ä¸ªå¸¸é‡å˜é‡æ—¶ä¹Ÿå¯ä»¥ç”¨ `!` æ¥å¼ºåˆ¶å…¶ä¸ºéç©ºï¼š

```swift
let possibleStr: String? = "An optional string."
let forcedStr: String = possibleStr!  // éœ€è¦ `!`

let assumedStr: String! = "An implicitly unwrapped optional string."
let implicitStr: String = assumedStr  // ä¸éœ€è¦ `!`
```

ä½†å¦‚æœèµ‹å€¼çš„å¯¹è±¡ä¸æ˜¯ä¸€ä¸ªæ˜ç¡®ç»™å®šç±»å‹ã€ä¸”ç±»å‹éå¯é€‰ï¼Œåˆ™ä¾ç„¶è¡¨ç°ä¸ºå¯é€‰å€¼ï¼š

```swift
let optionalStr = assumedStr  // optionalStr ç±»å‹ä¸º `String?`
```

éšå¼çš„å¼ºåˆ¶éç©ºå¯é€‰å€¼ä¹Ÿå¯ä»¥è¿›è¡Œå¯é€‰å€¼ç»‘å®šã€‚ä¸æ™®é€šçš„å¯é€‰å€¼çš„åŒºåˆ«åœ¨äºï¼Œéç©ºçš„æƒ…å†µåˆ†æ”¯é‡Œä¸å†éœ€è¦ ! æ¥å¼ºåˆ¶éç©ºï¼š

```swift
if let definiteStr = assumedStr {
    print(definiteStr)
}
```

## é”™è¯¯å¤„ç†

å‡½æ•°å£°æ˜æ—¶å¯ä»¥ç”¨ throws è¡¨æ˜å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ï¼š

```swift
func canThrowAnError() throws {
    // this function may or may not throw an error
}
```

é”™è¯¯å¯ä»¥ç”¨ do-catch è¯­å¥æ•è·ï¼š

```swift
do {
    try canThrowAnError()
    // no error was thrown
} catch {
    // an error was thrown
}
```

å¯¹ä¸åŒçš„é”™è¯¯å¯ä»¥å®šä¹‰ç›¸åº”çš„å¤„ç†ï¼š

```swift
do {
    try makeASandwich()
    eatASandwich()
} catch SandwichError.outOfCleanDishes {
    washDishes()
} catch SandwichError.missingIngredients(let ingredients) {
    buyGroceries(ingredients)
}
```

## æ–­è¨€ & å‰ç½®æ¡ä»¶

* **æ–­è¨€**ï¼ˆ Assertion ï¼‰ä¸€èˆ¬æ˜¯ç”¨äºå¼€å‘é˜¶æ®µå‘ç°é”™è¯¯ï¼›

* **å‰ç½®æ¡ä»¶**ï¼ˆ Preconditiaon ï¼‰ä¸€èˆ¬æ˜¯ç”¨äºç”Ÿäº§é˜¶æ®µæ£€æµ‹é—®é¢˜ã€‚

ä¸¤è€…éƒ½æ˜¯ç”¨åœ¨è¿è¡Œæ—¶çš„ã€‚ä¸é”™è¯¯å¤„ç†ä¸åŒï¼Œæ–­è¨€ or å‰ç½®æ¡ä»¶ä¸€æ—¦è§¦å‘åˆ™ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚

### ä½¿ç”¨æ–­è¨€è¿›è¡Œè°ƒè¯•

å¯ä»¥ç”¨ `assert(_:_:file:line:)` è¿›è¡Œæ–­è¨€ï¼š

```swift
let age = -3
assert(age >= 0, "ä¸€ä¸ªäººçš„å¹´é¾„ä¸å¯èƒ½å°äº 0 ã€‚")   // ä¼šå¯¼è‡´å¤±è´¥
```

æˆ–è€…ç”¨ `assertionFailure(_:file:line:)` ç›´æ¥å®£å‘Šå¤±è´¥ï¼š

```swift
if age > 10 {
    print("ä½ å¯èƒ½åœ¨ä¸Šä¸­å­¦ã€‚")
} else if age >= 0 {
    print("ä½ å¯èƒ½åœ¨ä¸Šå¹¼å„¿å›­ã€‚")
} else {
    assertionFailure("ä¸€ä¸ªäººçš„å¹´é¾„ä¸å¯èƒ½å°äº 0 ã€‚")
}
```

### ä½¿ç”¨å‰ç½®æ¡ä»¶æ¥å¼ºåˆ¶åˆ¤æ–­

å¯ä»¥ç”¨ `precondition(_:_:file:line:)` è¿›è¡Œå‰ç½®æ¡ä»¶åˆ¤æ–­ï¼š

```swift
// åœ¨ä¸€ä¸ªä¸‹æ ‡æ–¹æ³•ä¸­ ...
precondition(index > 0, "ç´¢å¼•å€¼å¿…é¡»å¤§äº 0 ã€‚")
```

åŒæ ·å¯ä»¥ç”¨ `preconditionFailure(_:file:line:)` ç›´æ¥å®£å‘Šå¤±è´¥ã€‚

## å‚è€ƒ

[The Basics - docs.swift.org](https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html)
